#include <stdio.h>
#include <stack>
#include <string.h>

using namespace std;
int solve();
int solve()
{
	int length,i;
	char buffer[10001];
	scanf("%s",buffer);
	stack<char> brackets;
	length = strlen(buffer);
	for(i=0;i<length;i++)
	{
		if(buffer[i]=='('||buffer[i]=='{'||buffer[i]=='[')
		{
			brackets.push(buffer[i]);
		}
		else 
		{
			if(brackets.empty())
				return 0;

			if(buffer[i]==')')
			{
				if(brackets.top()!='(')
					return 0;
				else 
					brackets.pop();

			}
			else if(buffer[i]=='}')
			{
				if(brackets.top()!='{')
					return 0;
				else 
					brackets.pop();

			}
			else 
			{
				if(brackets.top()!='[')
					return 0;
				else 
					brackets.pop();

			}
		}
	}

	return brackets.empty();
}

int main()
{
	int testcase;
	scanf("%d",&testcase);
	while(testcase--)
	{
		if(solve())
			puts("YES");
		else 
			puts("NO");

	}
}
