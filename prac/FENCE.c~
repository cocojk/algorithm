#include <stdio.h>

int height[20000];

#define MAX(i,j,k) ((i)>(j))?( ((i)>(k))?(i):(k)    ):(  ((j)>(k))?(j):(k)     )
// start include end exclude
int requr(int start,int end)
{
	int minIndex;
	int value1,value2,value3;

	if((end-start)==1)
	{
		return height[start]; 
	}
	else if((start>end)||(start==end))
	{
		return 0;

	}

	minIndex = getMinIndex(start,end);
	value1 = height[minIndex]*(end-start);
	value2 = requr(start,minIndex);
	value3 = requr(minIndex+1,end);
	
	return MAX(value1,value2,value3);

}

int getMinIndex(int start,int end)
{
	int i;
	int min=0x7fffffff;
	int minIndex;

	for(i=start;i<end;i++)
	{
		if(min>height[i])
		{
			min=height[i];
			minIndex=i;
		}
	}

	return minIndex;
}


int main(void)
{

	int testcase;
	int N;
	int i;

	scanf("%d",&testcase);

	while(testcase--)
	{
		i=0;
		scanf("%d",&N);
		for(i=0;i<N;i++)
		{
			scanf("%d",&height[i]);
		}

		printf("%d\n",requr(0,N));
	}

	return 0;
}
	

